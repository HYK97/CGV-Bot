<html>
<head>
<meta charset="utf-8"/>
<style>
body { font-family: sans-serif; max-width: 640px; margin: 0 auto; padding: 20px }
a { padding: 5px 20px; background-color: #8888ff; color: white; text-decoration: none }
</style>
</head>
<body>
  <h3>아래 버튼을 북마크바에 드래그해 넣으세요</h3>
  <p><a href="javascript:var%20contentWindow=$(%22#ticket_iframe%22)%5B0%5D.contentWindow;var%20preferredSeats=%5B%5D;$(contentWindow.document).find(%22body%22)%5B0%5D.appendChild(contentWindow.document.createElement(%22style%22));var%20customStyle=contentWindow.document.styleSheets%5BcontentWindow.document.styleSheets.length-1%5D;customStyle.insertRule(%22#seats_list%20.row%20.seat%20a%20span.no.ry-pref%20%7Bbackground-color:blue%20!important;%7D%22,0);function%20newClickListener(e)%7Bvar%20allSeats=$(contentWindow.document).find(%22#seats_list%20.seat%20a%22);if(typeof%20allSeats.get(0).ryID==%22undefined%22)%7BallSeats.each((function(i)%7Bthis.ryID=i;this.ryRow=$(this).parents(%22.row%22).children(%22.label%22).html();this.ryCol=$(this).children(%22.no%22).html()%7D))%7Dvar%20rowNumber=$(this).children(%22.no%22);rowNumber.toggleClass(%22ry-pref%22);if(rowNumber.hasClass(%22ry-pref%22))%7BrowNumber.get(0).origNum=$(rowNumber).html();preferredSeats%5BpreferredSeats.length%5D=this%7Delse%7Bfor(var%20i=0;i%3CpreferredSeats.length;++i)%7Bif(typeof%20preferredSeats%5Bi%5D!=%22undefined%22&&preferredSeats%5Bi%5D.ryID==this.ryID)%7BrowNumber.html(rowNumber.get(0).origNum);delete%20preferredSeats%5Bi%5D%7D%7D%7Dvar%20priority=1;for(var%20i=0;i%3CpreferredSeats.length;++i)%7Bif(typeof%20preferredSeats%5Bi%5D!=%22undefined%22)%7B$(preferredSeats%5Bi%5D).children(%22.no%22).html(priority++)%7D%7Dvar%20targetNum=getTargetNumSeat();if(preferredSeats.length%3E=targetNum)%7B$(%22#ry-button%22).show()%7D%7Dfunction%20getTargetNumSeat()%7Bvar%20numberOfSeats=contentWindow.$.cgv.data%5B%22%EA%B3%A0%EA%B0%9D%EC%84%A0%ED%83%9D%EC%A0%95%EB%B3%B4%22%5D%5B%22%EC%A2%8C%EC%84%9D%22%5D;return%20numberOfSeats%5B%22%ED%95%99%EC%83%9D%EC%9D%B8%EC%9B%90%EC%88%98%22%5D+numberOfSeats%5B%22%EC%9D%BC%EB%B0%98%EC%9D%B8%EC%9B%90%EC%88%98%22%5D+numberOfSeats%5B%22%EC%9A%B0%EB%8C%80%EC%9D%B8%EC%9B%90%EC%88%98%22%5D%7Dfunction%20seatInfoHandler()%7Bvar%20prefAvalSeats=%5B%5D;var%20seatInfo=contentWindow.$.cgv.data.SEAT_INFO.SEAT_INFO;var%20avalSeats=%5B%5D;for(var%20i=0;i%3CseatInfo.length;++i)%7Bif(seatInfo%5Bi%5D.SEAT_STATE==%22Y%22)%7BavalSeats.push(seatInfo%5Bi%5D.LOC_Y_NM+parseInt(seatInfo%5Bi%5D.SEAT_NO))%7D%7Dfor(i=0;i%3CpreferredSeats.length;++i)%7Bif(typeof%20preferredSeats%5Bi%5D!=%22undefined%22)%7Bj=avalSeats.indexOf(preferredSeats%5Bi%5D.ryRow+preferredSeats%5Bi%5D.ryCol);if(j!=-1)%7BprefAvalSeats.push(preferredSeats%5Bi%5D)%7D%7D%7Dvar%20targetNum=getTargetNumSeat();var%20passedSet=%5B%5D;if(targetNum!=0&&targetNum%3C=prefAvalSeats.length)%7Bvar%20continuedSeats=0;var%20lastSeat=null;prefAvalSeats.sort(ryCmp);var%20candidateSet=%5B%5D;for(var%20i=0;i!=prefAvalSeats.length;++i)%7BcandidateSet.push(prefAvalSeats%5Bi%5D);if(targetNum==1)%7BpassedSet.push(candidateSet.slice());candidateSet=%5B%5D%7Delse%20if(lastSeat==null)%7BlastSeat=prefAvalSeats%5Bi%5D;continuedSeats=1%7Delse%20if(lastSeat.ryRow===prefAvalSeats%5Bi%5D.ryRow&&parseInt(lastSeat.ryCol)+1===parseInt(prefAvalSeats%5Bi%5D.ryCol))%7BlastSeat=prefAvalSeats%5Bi%5D;if(++continuedSeats==targetNum)%7BpassedSet.push(candidateSet.slice());candidateSet=candidateSet.slice(1);--continuedSeats%7D%7Delse%7BcandidateSet=%5BprefAvalSeats%5Bi%5D%5D;lastSeat=prefAvalSeats%5Bi%5D;continuedSeats=1%7D%7Dif(passedSet.length==0)%7BsetTimeout((function()%7BcontentWindow.loadSeatInfo(seatInfoHandler)%7D),5e3);return%7Dvar%20minPriority=1e4;var%20bestIndex=0;for(var%20i=0;i!=passedSet.length;++i)%7Bvar%20thisPriority=0;for(var%20j=0;j!=passedSet%5Bi%5D.length;++j)%7BthisPriority+=parseInt($(passedSet%5Bi%5D%5Bj%5D).children(%22.no%22).html())%7Dif(minPriority%3EthisPriority)%7BbestIndex=i;minPriority=thisPriority%7D%7DpassedSetHandler(passedSet%5BbestIndex%5D);return%7Delse%7BsetTimeout((function()%7BcontentWindow.loadSeatInfo(seatInfoHandler)%7D),5e3);return%7D%7Dvar%20bell=null;function%20passedSetHandler(seats)%7Bfor(var%20i=0;i%3Cseats.length;++i)%7B$(seats%5Bi%5D).parent().addClass(%22selected%22)%7Dbell.play();$(%22#ry-button%22).remove();$(%22#ry-message%22).remove();contentWindow.ticketStepNext()%7Dfunction%20ryCmp(a,b)%7Bif(a.ryRow===b.ryRow)%7Breturn%20parseInt(a.ryCol)-parseInt(b.ryCol)%7Delse%7Breturn%20a.ryRow%3Eb.ryRow?1:-1%7D%7Dvar%20originalClickListener=contentWindow.ftSeatClickListener;contentWindow.ftSeatClickListener=newClickListener;contentWindow.reservationSeatReset(true);$(document.body).append('%3Cdiv%20id=%22ry-message%22%20style=%22position:fixed;top:10px;left:50%25;width:90%25;margin-left:-45%25;padding:10px%200;background-color:rgba(0,0,0,0.5);color:white;font-size:15px;text-align:center;z-index:9999%22%3E%EC%84%A0%ED%98%B8%ED%95%98%EB%8A%94%20%EC%88%9C%EC%9C%BC%EB%A1%9C%20%EC%A2%8C%EC%84%9D%EC%9D%84%20%EC%84%A0%ED%83%9D%EC%84%B8%EC%9A%94%3C/div%3E');$(document.body).append('%3Cdiv%20id=%22ry-button%22%20style=%22position:fixed;bottom:10px;left:50%25;width:200px;height:50px;margin-left:-100px;background-color:#55f;color:white;font-size:20px;text-align:center;line-height:50px;cursor:pointer;z-index:9999%22%3E%EC%84%A0%ED%83%9D%EC%99%84%EB%A3%8C%3C/div%3E');$(%22#ry-button%22).one(%22click%22,(function(e)%7Bbell=new%20Audio(%22https://upload.wikimedia.org/wikipedia/commons/c/ce/Rotating-bicycle-bell.wav%22);$(%22#ry-button%22).css(%22background-color%22,%22#ccc%22).css(%22cursor%22,%22initial%22);$(%22#ry-message%22).html(%22%EB%B2%A8%EC%86%8C%EB%A6%AC%EA%B0%80%20%EB%82%98%EB%A9%B4%20%EB%8F%8C%EC%95%84%EC%99%80%EC%84%9C%20%EA%B2%B0%EC%9E%AC%ED%95%98%EC%84%B8%EC%9A%94%22);contentWindow.loadSeatInfo(seatInfoHandler)%7D)).hide();">CGV 자동 예매</a></p>
  <p style="margin-bottom: 0">사용법 영상:</p>
  <iframe width="420" height="315" src="https://www.youtube.com/embed/ikHZVfQZFCI" frameborder="0" allowfullscreen=""></iframe>
</body>
</html>